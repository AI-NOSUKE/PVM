# PVM (Phantom Vector Mapping)

二段階 ICA とクラスタリングで、テキスト集合の意味構造を抽出・整理するツールです。
PCA で圧縮 → ICA で独立成分抽出 → 暫定クラスタ → セントロイド再分解（ICA②）→ 最終クラスタ、という流れで安定したクラスタを得ます。

## できること
- k 候補の自動探索と **Plan（= rank）** 提案（初回）
- ベースライン（基準）の保存と **ロック再実行**（2回目以降）
- **アンロック**で新話題だけを吸収して基準を拡張
- 出力：`結果スコア.csv` / `結果レポート.json` / `AI_命名依頼.md`

## すぐ試す
```bash
python PVM.py
```
（標準の設定・データ読み込みに従って実行されます。必要に応じてオプションで上書きできます）

### よく使う流れ
- 候補だけ見る：
  ```bash
  python PVM.py --show-candidates
  ```
- 候補から特定 Plan を採用（例：Plan 5）：
  ```bash
  python PVM.py --use-plan 5
  ```
- 2回目（ロック：基準固定で再スコア）：
  ```bash
  python PVM.py
  ```
- 2回目（アンロック：新話題を吸収して基準を拡張）：
  ```bash
  python PVM.py --unlock
  ```

### Plan（= rank）の見方
- `k_candidates.csv` には **`rank` 列**があり、**1 が最良**です（小さいほど良い）。
- `--use-plan N` に渡す **N はこの `rank` の値**です（例：`rank=5` の案を採用 → `--use-plan 5`）。
- ②最終評価（`k_candidates_stage2.csv`）でも同様に `rank` を見ます。

## 出力ファイル（概要）
- `結果スコア.csv`：各文のクラスタ割当とスコア
- `結果レポート.json`：実行設定・評価値などのサマリ
- `AI_命名依頼.md`：代表文（中心に近い順）を並べた命名用テンプレ

詳細は [Manual.md](./Manual.md) を参照してください。
